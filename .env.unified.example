# =============================================================================
# ISTANI - UNIFIED ENVIRONMENT CONFIGURATION
# =============================================================================
# This is the MASTER environment file containing ALL possible variables
# Copy to .env for local development or set in deployment platforms
#
# Priority: .env.local > .env > .env.unified.example
# =============================================================================

# =============================================================================
# CORE CONFIGURATION (REQUIRED)
# =============================================================================

# Node Environment: development | production | test
NODE_ENV=development

# Application URL (required for callbacks and absolute URLs)
NEXT_PUBLIC_SITE_URL=https://istani.org

# =============================================================================
# SUPABASE (REQUIRED) - Database & Authentication
# =============================================================================
# Get from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Database Connection (use pooler for serverless)
DATABASE_URL=postgresql://postgres.xxx:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true

# =============================================================================
# STRIPE (OPTIONAL) - Payment Processing
# =============================================================================
# Get from: https://dashboard.stripe.com/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# AI SERVICES (OPTIONAL)
# =============================================================================

# OpenAI - https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-...

# Google Gemini - https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIza...

# Anthropic Claude - https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...

# Alibaba Qwen - https://dashscope.aliyun.com/
QWEN_API_KEY=sk-...

# DeepSeek - https://platform.deepseek.com/
DEEPSEEK_API_KEY=sk-...

# Cohere - https://dashboard.cohere.ai/api-keys
COHERE_API_KEY=...

# Hugging Face - https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=hf_...

# =============================================================================
# ELEVENLABS (OPTIONAL) - 24/7 Voice AI Assistant
# =============================================================================
# Get from: https://elevenlabs.io/app/conversational-ai
NEXT_PUBLIC_ELEVENLABS_AGENT_ID=your-agent-id
ELEVENLABS_API_KEY=your-elevenlabs-api-key

# OpenRouter API Keys for ElevenLabs (optional alternatives)
OR_KEY_MINIMAX_MINIMAX_M2=sk-or-v1-...
OR_KEY_GOOGLE_GEMINI_FLASH=sk-or-v1-...
OR_KEY_ANTHROPIC_CLAUDE=sk-or-v1-...
OR_KEY_OPENAI_GPT4=sk-or-v1-...
OR_KEY_LLAMA=sk-or-v1-...
OR_KEY_DEEPSEEK=sk-or-v1-...
OR_KEY_QWEN=sk-or-v1-...
OR_KEY_COHERE=sk-or-v1-...
OPENROUTER_API_KEY=sk-or-v1-...

# =============================================================================
# EXTERNAL APIs (OPTIONAL)
# =============================================================================

# Pexels Images - https://www.pexels.com/api/
PEXELS_API_KEY=your-pexels-api-key

# Unsplash Images - https://unsplash.com/oauth/applications
UNSPLASH_ACCESS_KEY=your-unsplash-access-key

# USDA Food Database - https://fdc.nal.usda.gov/api-key-signup.html
USDA_API_KEY=your-usda-api-key

# =============================================================================
# GITHUB (REQUIRED for automation)
# =============================================================================
# Create at: https://github.com/settings/tokens
# Required scopes: repo, workflow, admin:org, read:org
GITHUB_TOKEN=ghp_...

# GitHub Repository Configuration
GITHUB_OWNER=sano1233
GITHUB_REPO=istani
GITHUB_REPOSITORY=sano1233/istani
GITHUB_REPOSITORY_OWNER=sano1233

# GitHub Webhook Secret (for AI agent webhooks)
# Generate with: openssl rand -hex 32
GITHUB_WEBHOOK_SECRET=your-webhook-secret-here

# =============================================================================
# DEPLOYMENT PLATFORMS
# =============================================================================

# Vercel - https://vercel.com/account/tokens
VERCEL_TOKEN=...
VERCEL_ORG_ID=...
VERCEL_PROJECT_ID=...

# Netlify - https://app.netlify.com/user/applications#personal-access-tokens
NETLIFY_TOKEN=...
NETLIFY_AUTH_TOKEN=...
NETLIFY_SITE_ID=...

# =============================================================================
# MONITORING & OBSERVABILITY (OPTIONAL)
# =============================================================================

# Sentry Error Tracking - https://sentry.io/
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_AUTH_TOKEN=...
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=istani

# BetterStack Logging - https://betterstack.com/logs
BETTERSTACK_TOKEN=...

# Google Analytics (optional)
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Plausible Analytics (optional)
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=istani.org

# =============================================================================
# SECURITY & ADMIN
# =============================================================================

# Admin refresh token (protect admin routes)
ADMIN_REFRESH_TOKEN=change-me-to-random-secure-token

# Cron job secret (protect cron endpoints)
CRON_SECRET=change-me-to-random-secure-token

# =============================================================================
# AI AGENT CONFIGURATION (Optional - for autonomous AI agent)
# =============================================================================

# Enable/disable AI features
CLAUDE_ENABLED=true
COPILOT_ENABLED=true
CODEX_ENABLED=true
AUTO_FIX_ENABLED=true

# AI Model Configuration
CLAUDE_MODEL=claude-sonnet-4-5-20250929
CLAUDE_MAX_TOKENS=8000
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.2
OPENAI_MAX_TOKENS=4000

# Agent Automation Settings
AGENT_AUTO_MERGE=true
AGENT_AUTO_DEPLOY=true
AGENT_SECURITY_ENABLED=true
AGENT_MAX_PRS_PER_HOUR=50
AGENT_RATE_LIMIT_DELAY_MS=2000

# Logging Level: debug | info | warn | error
LOG_LEVEL=info

# Grafana Password (for Docker monitoring)
GRAFANA_PASSWORD=admin

# Redis (for caching and queue management)
REDIS_URL=redis://localhost:6379

# =============================================================================
# NOTIFICATIONS (OPTIONAL)
# =============================================================================

# Slack Webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx

# Discord Webhooks
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/xxx

# =============================================================================
# EMAIL (OPTIONAL)
# =============================================================================
# SendGrid, Resend, or SMTP
EMAIL_SERVER_HOST=smtp.sendgrid.net
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=apikey
EMAIL_SERVER_PASSWORD=SG.xxx
EMAIL_FROM=noreply@istani.org

# =============================================================================
# GOOGLE APIS (OPTIONAL) - For ElevenLabs Agent
# =============================================================================
GOOGLE_CALENDAR_API_KEY=...
GOOGLE_DRIVE_API_KEY=...

# =============================================================================
# CLOUD STORAGE (OPTIONAL)
# =============================================================================
# AWS S3 (if using beyond Supabase storage)
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=us-east-1
AWS_S3_BUCKET=istani-uploads

# =============================================================================
# VERCEL AUTO-INJECTED (Set by platform, do not manually configure)
# =============================================================================
# VERCEL=1
# VERCEL_ENV=production|preview|development
# VERCEL_URL=istani.vercel.app
# VERCEL_GIT_COMMIT_SHA=xxx
# VERCEL_GIT_COMMIT_MESSAGE=xxx

# =============================================================================
# RAILWAY AUTO-INJECTED (Set by platform for AI Agent)
# =============================================================================
# RAILWAY_ENVIRONMENT=production
# RAILWAY_SERVICE_NAME=ai-agent
# REDIS_URL=${{Redis.REDIS_URL}}

# =============================================================================
# IMPORTANT NOTES
# =============================================================================
# 1. NEVER commit .env files with real values to git
# 2. Keep .env and .env.local in .gitignore
# 3. Use different keys for development and production
# 4. Rotate secrets regularly (every 90 days)
# 5. Test in staging/preview before deploying to production
# 6. Monitor API usage to stay within budget limits
# 7. For Vercel: Use `vercel env add VARIABLE_NAME` or dashboard
# 8. For Railway: Set in service variables dashboard
# 9. For GitHub Actions: Set in repository secrets
# 10. Minimum required: Supabase URL/keys, Site URL, Cron Secret

# =============================================================================
# QUICK START
# =============================================================================
# 1. Copy this file: cp .env.unified.example .env
# 2. Fill in at minimum: Supabase credentials, NEXT_PUBLIC_SITE_URL
# 3. Add optional services as needed
# 4. Run: npm run dev
# 5. For production: Set all variables in Vercel dashboard
